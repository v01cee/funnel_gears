"""ะะพััะตั ะดะปั callback ะทะฐะฟัะพัะพะฒ"""

import logging
from aiogram import Router, types

# ะกะพะทะดะฐะตะผ ัะพััะตั ะดะปั callback'ะพะฒ
callbacks_router = Router()

# ะขะตะบัั ั ะธะฝัะพัะผะฐัะธะตะน ะพ 5 ะพัะธะฑะบะฐั ะฝะพะฒะธัะบะฐ
FIVE_MISTAKES_TEXT = """๐ฏ *5 ะพัะธะฑะพะบ, ะธะท-ะทะฐ ะบะพัะพััั ะฝะพะฒะธัะบะธ ะผััะฐัััั ั ะฑะพัะฐะผะธ*

ะัะปะธ ัั ัะตัะธะป ัะดะตะปะฐัั ัะฒะพะตะณะพ Telegram-ะฑะพัะฐ โ ััะพ ะบัััะพะต ัะตัะตะฝะธะต! ะะพ ั ะฝะพะฒะธัะบะพะฒ ะฟะพััะธ ะฒัะตะณะดะฐ ะพะดะฝะธ ะธ ัะต ะถะต ะณัะฐะฑะปะธ: ะฝะฐัะธะฝะฐัั ั ัะฝััะทะธะฐะทะผะพะผ, ะฐ ะฟะพัะพะผ ะทะฐัััะตะฒะฐัั, ะฟััะฐัััั ะธ ะฑัะพัะฐัั ะฝะฐ ะฟะพะปะฟััะธ.

ะ ััะพะผ ะณะฐะนะดะต ั ัะพะฑัะฐะป *5 ัะฐัััั ะพัะธะฑะพะบ*, ะบะพัะพััะต ะผะตัะฐัั ะดะพะนัะธ ะดะพ ัะตะทัะปััะฐัะฐ. ะะทะฑะตะณะฐั ะธั โ ัั ัะตะฐะปัะฝะพ ััะบะพัะธัั ัะฒะพะน ะฟััั ะธ ัะดะตะปะฐะตัั ัะฐะฑะพัะฐััะตะณะพ ะฑะพัะฐ ะฑะตะท ะฑะพะปะธ.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ *ะัะธะฑะบะฐ 1. ะกัะฐะทั ะปะตะทัั ะฒ ัะปะพะถะฝัะน ััะฝะบัะธะพะฝะฐะป*

ะะพะฒะธัะบะธ ัะฐััะพ ะฝะฐัะธะฝะฐัั ั ะธะดะตะน: ยซะฐ ะฟัััั ะฑะพั ะฟัะธะฝะธะผะฐะตั ะพะฟะปะฐัั, ะฒัััะปะฐะตั pdf, ัะฐะฑะพัะฐะตั ะบะฐะบ CRM ะธ ะตัั ะฟะพะดะฐัั ะบะพัะตยป. ะัะพะณ: ะณะพะปะพะฒะฐ ะบััะณะพะผ, ะฟัะพะตะบั ะฝะต ะดะฒะธะณะฐะตััั.

โ *ะะฐะบ ะฟัะฐะฒะธะปัะฝะพ:* ะฝะฐัะฝะธ ั ะฟัะพััะพะณะพ ััะตะฝะฐัะธั โ ะฑะพั ะพัะฒะตัะฐะตั ะฝะฐ ะบะพะผะฐะฝะดั, ัะพะฑะธัะฐะตั ะธะผั ะธ ะบะพะฝัะฐะบั, ัะพััะฐะฝัะตั ะดะฐะฝะฝัะต ะฒ ัะฐะฑะปะธัั. ะ ะฟะพัะพะผ ัะฐะณ ะทะฐ ัะฐะณะพะผ ะดะพะฑะฐะฒะปัะน ััะฝะบัะธะธ.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ *ะัะธะฑะบะฐ 2. ะะพะฟะฐัััั ะฒ ะบะพะดะต ะฑะตะท ััััะบัััั*

ะกะบะฐัะฐะป ะฟะฐัั ะณะฐะนะดะพะฒ ั YouTube, ะฟะพะฟัะพะฑะพะฒะฐะป ััะพ-ัะพ ัะพะฑัะฐัั, ะฐ ัะตัะตะท ะฝะตะดะตะปั ัะถะต ัะฐะผ ะฝะต ะฟะพะฝะธะผะฐะตัั, ััะพ ะฝะฐะฟะธัะฐะป.

โ *ะะฐะบ ะฟัะฐะฒะธะปัะฝะพ:* ะธัะฟะพะปัะทัะน ััะตะนะผะฒะพัะบ (ะฝะฐะฟัะธะผะตั, Aiogram 3). ะฃ ะฝะตะณะพ ะตััั ัััะบะฐั ััััะบัััะฐ: ััะฝะดะปะตัั, ัะพััะพัะฝะธั, ะบะปะฐะฒะธะฐัััั. ะญัะพ ััะฐะทั ะดะธััะธะฟะปะธะฝะธััะตั ะธ ะดะฐัั ะพัะฝะพะฒั ะดะปั ะฝะพัะผะฐะปัะฝะพะณะพ ะบะพะดะฐ.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ *ะัะธะฑะบะฐ 3. ะะณะฝะพัะธัะพะฒะฐัั ะฑะฐะทั ะดะฐะฝะฝัั*

ะะฝะพะณะธะต ะฝะพะฒะธัะบะธ ััะฐะฝัั ะฒัั ะฒ Excel ะธะปะธ ะฒะพะพะฑัะต ะฒ ะฑะปะพะบะฝะพัะต. ะะพะบะฐ 5 ะฟะพะปัะทะพะฒะฐัะตะปะตะน โ ะพะบ. ะ ะฒะพั ะฟัะธ 100+ ะฝะฐัะธะฝะฐัััั ะพัะธะฑะบะธ.

โ *ะะฐะบ ะฟัะฐะฒะธะปัะฝะพ:* ััะฐะทั ะฟะพะดะบะปััะธ PostgreSQL ะธะปะธ ัะพัั ะฑั SQLite. ะญัะพ ะฝะต ัััะฐัะฝะพ: ะฝะฐ ะบัััะต ั ะฟะพะบะฐะทัะฒะฐั, ะบะฐะบ ัะฐะณ ะทะฐ ัะฐะณะพะผ ะฒัั ะฝะฐัััะพะธัั. ะ ัะฒะพะน ะฑะพั ะฑัะดะตั ะฝะฐะดัะถะฝัะผ, ะดะฐะถะต ะตัะปะธ ะฟะพะปัะทะพะฒะฐัะตะปะตะน ััะฐะฝะตั ัััััะฐ.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ *ะัะธะฑะบะฐ 4. ะะฐะฟััะบะฐัั ะฑะพัะฐ ัะพะปัะบะพ ะฝะฐ ัะฒะพัะผ ะบะพะผะฟัััะตัะต*

ะขั ัะดะตะปะฐะป ะฑะพัะฐ, ะพะฝ ัะฐะฑะพัะฐะตั... ะฟะพะบะฐ ะพัะบััั ะฝะพััะฑัะบ. ะะฐะบััะป โ ะฒัั ัะฟะฐะปะพ.

โ *ะะฐะบ ะฟัะฐะฒะธะปัะฝะพ:* ะทะฐะฟััะบะฐะน ะฑะพัะฐ ะฝะฐ ัะตัะฒะตัะต. ะะปั ััะพะณะพ ะธะดะตะฐะปัะฝะพ ะฟะพะดัะพะดะธั Docker: ัะฟะฐะบะพะฒะฐะป ะฟัะพะตะบั, ะทะฐะปะธะป ะฝะฐ ัะตัะฒะตั, ะฑะพั ัะฐะฑะพัะฐะตั 24/7 ะฑะตะท ัะฒะพะตะณะพ ััะฐััะธั.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ *ะัะธะฑะบะฐ 5. ะฃัะธัััั ะฒ ะพะดะธะฝะพัะบั*

ะะดะธะฝ ะธะท ะณะปะฐะฒะฝัั ััะพะฟะพัะพะฒ โ ะฟััะฐัััั ัะฐะผ ัะฐะทะพะฑัะฐัััั ะฒะพ ะฒััะผ. ะ ะธัะพะณะต ััะฐัะธัั ะฝะตะดะตะปะธ, ะทะฐะปะธะฟะฐะตัั ะฝะฐ ะพัะธะฑะบะฐั ะธ ัะตััะตัั ะผะพัะธะฒะฐัะธั.

โ *ะะฐะบ ะฟัะฐะฒะธะปัะฝะพ:* ััะธัั ะฟะพัะฐะณะพะฒะพ ะธ ั ะฟะพะดะดะตัะถะบะพะน. ะะพะณะดะฐ ะตััั ะบะพะผััะฝะธัะธ ะธะปะธ ะฝะฐััะฐะฒะฝะธะบ โ ะพัะธะฑะบะธ ัะฐะทะฑะธัะฐัััั ะทะฐ ะผะธะฝััั, ะธ ัั ัะตะฐะปัะฝะพ ะดะฒะธะณะฐะตัััั ะฒะฟะตััะด ะฑะตะท ะฒัะณะพัะฐะฝะธั.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ก *ะะฐะบะปััะตะฝะธะต*

ะัะปะธ ัั ะธะทะฑะตะถะธัั ััะธั 5 ะพัะธะฑะพะบ โ ะฟััั ะบ ะฟะตัะฒะพะผั ัะฐะฑะพัะฐััะตะผั ะฑะพัั ััะฐะฝะตั ะฝะฐะผะฝะพะณะพ ะฟัะพัะต ะธ ะฑััััะตะต.

ะ ััะพะฑั ัะพัะฝะพ ะฝะต ะทะฐัััััั, ะฟัะธัะพะดะธ ะฝะฐ ะบััั: ัะฐะผ ะฒัั ัะฐะทะปะพะถะตะฝะพ ะฟะพ ัะฐะณะฐะผ, ะตััั ะฟะพะดะดะตัะถะบะฐ ะธ ะณะพัะพะฒัะต ัะตัะตะฝะธั.

๐ ะขะฒะพะน ะฑะพั ะถะดัั ัะตะฑั.

๐ก *ะััั ะฟะพ aiogram 3:*
https://stepik.org/course/255830/promo"""

@callbacks_router.callback_query(lambda c: c.data == "get_5_mistakes")
async def send_5_mistakes_handler(callback_query: types.CallbackQuery):
    """ะะฑัะฐะฑะพััะธะบ ะฝะฐะถะฐัะธั ะฝะฐ ะบะฝะพะฟะบั '5 ะพัะธะฑะพะบ ะฝะพะฒะธัะบะฐ'"""
    try:
        logging.info(f"ะะพะปัะทะพะฒะฐัะตะปั {callback_query.from_user.id} ะทะฐะฟัะพัะธะป ัะตะบ-ะปะธัั '5 ะพัะธะฑะพะบ ะฝะพะฒะธัะบะฐ'")
        await callback_query.message.answer(FIVE_MISTAKES_TEXT, parse_mode="Markdown")
        await callback_query.answer("ะงะตะบ-ะปะธัั ะพัะฟัะฐะฒะปะตะฝ! ๐")
    except Exception as e:
        logging.error(f"ะัะธะฑะบะฐ ะฟัะธ ะพัะฟัะฐะฒะบะต ัะตะบ-ะปะธััะฐ: {e}", exc_info=True)
        await callback_query.answer("ะัะพะธะทะพัะปะฐ ะพัะธะฑะบะฐ ะฟัะธ ะพัะฟัะฐะฒะบะต. ะะพะฟัะพะฑัะนัะต ะฟะพะทะถะต.", show_alert=True)
